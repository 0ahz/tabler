/**
Navbar
 */
.navbar {
  min-height: $navbar-height;
  align-items: stretch;

  .navbar-nav {
    min-height: subtract($navbar-height, 2 * $navbar-padding-y);

    .nav-link {
      position: relative;

      .badge {
        position: absolute;
        top: .375rem;
        right: .375rem;
        transform: translate(50%, -50%);
      }
    }
  }

  &:not(.navbar-light):not(.navbar-dark) {
    background: transparent;
    box-shadow: none;

    .navbar-brand {
      color: $navbar-light-brand-color;

      &:hover,
      &:focus {
        color: $navbar-light-brand-hover-color;
      }
    }

    .navbar-nav {
      .nav-link {
        color: $navbar-light-color;

        &:hover,
        &:focus {
          color: $navbar-light-hover-color;
        }

        &.disabled {
          color: $navbar-light-disabled-color;
        }
      }

      .show > .nav-link,
      .active > .nav-link,
      .nav-link.show,
      .nav-link.active {
        color: $navbar-light-active-color;
      }
    }

    .navbar-toggler {
      color: $navbar-light-color;
      border-color: $navbar-light-toggler-border-color;
    }

    .navbar-toggler-icon {
      background-image: escape-svg($navbar-light-toggler-icon-bg);
    }

    .navbar-text {
      color: $navbar-light-color;

      a,
      a:hover,
      a:focus  {
        color: $navbar-light-active-color;
      }
    }
  }
}


.navbar-expand {
  @each $breakpoint in map-keys($grid-breakpoints) {
    $next: breakpoint-next($breakpoint, $grid-breakpoints);
    $infix: breakpoint-infix($next, $grid-breakpoints);

    &#{$infix} {
      @include media-breakpoint-down($breakpoint) {
        .dropdown-menu {
          position: absolute;
        }

        .nav-link {
          .badge {
            position: static;
            margin-left: .5rem;
            transform: none;
          }
        }

        .navbar-collapse {
          .navbar-nav {
            width: 100%;

            .nav-link {
              padding-top: .5rem;
              padding-bottom: .5rem;
            }
          }

          .dropdown-menu {
            position: static;
            border: 0;
            box-shadow: none;
            margin-bottom: .5rem;
            background: transparent;
            color: inherit;
            columns: 1;
            padding: 0;

            .dropdown-item {
              padding-left: 1.5rem;
              padding-right: 1.5rem;
            }
          }
        }
      }

      @include media-breakpoint-up($next) {
        .navbar-collapse {
          width: auto;
          flex: 1 1 auto;
        }

        &.navbar-dark,
        .navbar-dark {
          .nav-item.active {
            .nav-link {
              background-color: rgba(#000, .1);
            }
          }
        }

        &.navbar-light,
        .navbar-light {
          .nav-item.active {
            position: relative;

            &:after {
              content: '';
              position: absolute;
              left: 0;
              right: 0;
              bottom: subtract(-.25rem, 1px);
              border-bottom: 2px solid $primary;
            }
          }
        }
      }
    }
  }
}



/**
Navbar brand
 */
.navbar-brand {
  display: inline-flex;
  align-items: center;
  font-weight: $navbar-brand-font-weight;
}

.navbar-brand-image {
  display: block;
  height: $navbar-brand-image-height;
}

/**
Navbar toggler
 */
.navbar-toggler {
  border: 0;
  width: $navbar-brand-image-height;
  height: $navbar-brand-image-height;
}

/**
Navbar light
 */
.navbar-light {
  box-shadow: 0 0 0 1px $border-color;
  background-color: $white;
}

/**
Navbar dark
 */
.navbar-dark {
  color: $white;
  background-color: $dark;
  box-shadow: none;

  .text-muted {
    color: $navbar-dark-color !important;
  }
}


.navbar-nav {
  align-items: stretch;

  .nav-item {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
}